{"version":3,"sources":["script.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","welcomePage","document","querySelector","itemsListPage","nextPageButton","displayCurrentDate","nameInput","form","getElementById","categoryInput","categoriesConteiner","username","localStorage","getItem","categories","JSON","parse","selectedCategoryId","categoriesCounter","notificationTimeBox","timeBoxForm","timeBoxValue","timeBoxCloseBtn","leaveWelcomePage","e","style","transform","addEventListener","display","getCurrentDate","date","Date","clientTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","currentDate","dateStyle","concat","format","innerHTML","updateCategoryCounter","innerText","categoryString","displayCategory","forEach","category","categoryWrapper","createElement","classList","add","categoryItem","id","appendChild","categoryItemTask","categoryName","editDeleteBtnContainer","editBtn","deleteBtn","openButton","currentTarget","parentElement","window","transitionEndHandler","filter","item","saveToLocalStorage","removeEventListener","removeAttribute","value","setSelectionRange","focus","setAttribute","tasksCounter","progressBar","progressBarValue","progressBarFill","taskElementsContainer","tasksWrapper","showProgressBar","tasks","contains","updateTasksRatio","thisCategoryId","selectedCategory","find","completeTaskCount","task","complete","taskRatioNumber","Math","floor","taskRatio","pop","push","toggle","taskForms","querySelectorAll","_loop","preventDefault","taskItemName","getTime","toString","remainingTime","reset","displayTask","taskElement","taskFirst","checkboxElement","type","checked","taskName","showTasksCount","countDown","ProgressBar","element","initialValue","arguments","this","valueElement","fillElement","setValue","newValue","isNaN","update","percentage","width","textContent","Timer","root","_this","getHTML","el","minutes","seconds","control","interval","remainingSeconds","start","stop","updateInterfaceTime","updateInterfaceControls","updateRemainingTime","currentCategoryId","currentTaskId","previousSibling","updateIds","inputValue","selectedTask","findSelectedTask","console","log","updateTaskStatus","categoryId","taskId","setItem","stringify","remove","padStart","_this2","Array","isArray","setInterval","clearInterval","incompleteTaskCount","taskString","trim"],"mappings":"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","file":"script.js","sourcesContent":["// ****** SELECT ITEMS **********\r\n\r\nconst welcomePage = document.querySelector('.welcome-page__container');\r\nconst itemsListPage = document.querySelector('.items-container');\r\nconst nextPageButton = document.querySelector('.welcome-page__btn');\r\n\r\nconst displayCurrentDate = document.querySelector('.text-wrapper');\r\nconst nameInput = document.querySelector('#name');\r\nconst form = document.getElementById('new-category-form');\r\nconst categoryInput = document.getElementById('category-name');\r\nconst categoriesConteiner = document.querySelector('.category-box-container');\r\n\r\nconst username = localStorage.getItem('username') || '';\r\nlet categories = JSON.parse(localStorage.getItem('categories')) || [];\r\nlet selectedCategoryId = localStorage.getItem('category.selectedCategoryId');\r\n\r\nconst categoriesCounter = document.querySelector('.category-counter');\r\n\r\nconst notificationTimeBox = document.querySelector('.notification-time-box ');\r\nconst timeBoxForm = document.querySelector('.time-form');\r\nconst timeBoxValue = document.querySelector('.time-value');\r\nconst timeBoxCloseBtn = document.querySelector('.btn-close-box');\r\n\r\n\r\n\r\n// ****** FUNCTIONS **********\r\n\r\n// PAGE TRANSITION\r\nconst leaveWelcomePage = (e) => {\r\n    \r\n    welcomePage.style.transform = \"translateX(-100%)\";\r\n    welcomePage.addEventListener(\"transitionend\", (e) => {\r\n        welcomePage.style.display = \"none\"\r\n    });\r\n    if(categories.length == 0 || categories.length !== 0) {\r\n      itemsListPage.style.transform = \"translateX(0)\";\r\n      itemsListPage.style.display = \"flex\";\r\n    }\r\n};\r\n\r\n\r\n\r\n// CURRENT DATE\r\nconst getCurrentDate = () => {\r\n    const date = new Date();\r\n    const clientTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    const currentDate = new Intl.DateTimeFormat('en-GB', { dateStyle: 'full', timeZone: `${clientTimeZone}`}).format(date);\r\n    displayCurrentDate.innerHTML = `Today is, ${currentDate}`;\r\n};\r\n\r\n\r\n//SHOW / UPDATE CATEGORY COUNTER/NUMBER\r\nconst updateCategoryCounter = () => {\r\n \r\n    if (categories.length === 0 ) {\r\n       categoriesCounter.innerText = \"You don't have any categories\";\r\n    } else {\r\n      const categoryString = categories.length === 1 ? \"category\" : \"categories\"\r\n      categoriesCounter.innerText = `You have ${categories.length} ${categoryString}`;\r\n      \r\n    }  \r\n};\r\n\r\n\r\n//RENDER CATEGORY\r\nconst displayCategory = () => {\r\n    categoriesConteiner.innerHTML = '';\r\n\r\n    categories.forEach(category => {\r\n\r\n        const categoryWrapper = document.createElement('div');\r\n        categoryWrapper.classList.add('category-wrapper');\r\n\r\n        const categoryItem = document.createElement('li');\r\n        categoryItem.classList.add('category-box', 'glassmorphism-card');\r\n        categoryItem.id = category.id;\r\n        categoryWrapper.appendChild(categoryItem);   \r\n\r\n        const categoryItemTask = document.createElement('div');\r\n        categoryItemTask.classList.add('category-box__task');\r\n        categoryItemTask.innerHTML = `<input class=\"category-box__name\" type=\"text\" value=\"${category.categoryName}\" readonly>`;\r\n        categoryItem.appendChild(categoryItemTask);\r\n\r\n        const editDeleteBtnContainer = document.createElement('div');\r\n        editDeleteBtnContainer.classList.add('btn-container');\r\n        categoryItem.appendChild(editDeleteBtnContainer);\r\n\r\n        const editBtn = document.createElement('button');\r\n        editBtn.classList.add('edit-btn');\r\n        editBtn.innerHTML = `<i class=\"fas fa-edit\"></i>`;\r\n        editDeleteBtnContainer.appendChild(editBtn);\r\n\r\n        const deleteBtn = document.createElement('button');\r\n        deleteBtn.classList.add('delete-btn');\r\n        deleteBtn.innerHTML = `<i class=\"fas fa-trash\"></i>`;\r\n        editDeleteBtnContainer.appendChild(deleteBtn);\r\n\r\n        const openButton = document.createElement('button');\r\n        openButton.innerHTML = 'OPEN';\r\n        openButton.classList.add('button-open');\r\n        editDeleteBtnContainer.appendChild(openButton);\r\n\r\n        deleteBtn.addEventListener('click', deleteElement); //DELETE BUTTON\r\n        editBtn.addEventListener('click', editElement); // EDIT BUTTON\r\n\r\n        const tasksCounter = document.createElement('p');\r\n        tasksCounter.classList.add('tasks-counter');\r\n        tasksCounter.innerHTML = \"Click Open and add task/s\"\r\n        categoryItem.appendChild(tasksCounter);\r\n\r\n        const progressBar = document.createElement('div');\r\n        progressBar.classList.add('progress-bar');\r\n        categoryItem.appendChild(progressBar);\r\n    \r\n        const progressBarValue = document.createElement('div');\r\n        progressBarValue.classList.add('progress-bar-value');\r\n        progressBar.appendChild(progressBarValue);\r\n    \r\n        const progressBarFill = document.createElement('div');\r\n        progressBarFill.classList.add('progress-bar-fill');\r\n        progressBar.appendChild(progressBarFill);\r\n\r\n        const taskElementsContainer = document.createElement('div');\r\n        taskElementsContainer.classList.add('task-elements-container');\r\n        taskElementsContainer.innerHTML = `\r\n        <form class=\"new-task-form\">\r\n          <input\r\n            class=\"task-input\"\r\n            type=\"text\"\r\n            placeholder=\"Add task...\"\r\n          />\r\n          <input\r\n            class=\"create-task-btn\"\r\n            type=\"submit\"\r\n            value=\"Create task\"\r\n          />\r\n        </form>` \r\n\r\n        const tasksWrapper = document.createElement('div');\r\n        tasksWrapper.classList.add('tasks-wrapper');\r\n        taskElementsContainer.appendChild(tasksWrapper);\r\n    \r\n        categoryItem.appendChild(taskElementsContainer);\r\n\r\n        categoriesConteiner.appendChild(categoryWrapper); //APPEND TO MAIN CONTAINER\r\n\r\n\r\n\r\n        function showProgressBar(){\r\n          if(category.tasks.length !== 0 && categoryItem.classList.contains('active')){\r\n                progressBar.style.display = 'block'\r\n            } else {\r\n                progressBar.style.display = 'none'\r\n            }\r\n        };\r\n    \r\n\r\n        //DELETE FUNCTION\r\n  \r\n        function deleteElement(e) {\r\n            let thisItem = e.currentTarget.parentElement.parentElement.parentElement;\r\n            thisItem.classList.add('fall');\r\n        \r\n            let transitionEndHandler = function(e) {\r\n                categories = categories.filter(item => item !== category);\r\n                selectedCategoryId = null;\r\n        \r\n                saveToLocalStorage();\r\n                displayCategory();\r\n                updateCategoryCounter();\r\n        \r\n                // Remove the transitionend event listener\r\n                window.removeEventListener('transitionend', transitionEndHandler);\r\n            };\r\n        \r\n            window.addEventListener('transitionend', transitionEndHandler);\r\n        }\r\n        \r\n        \r\n        //EDIT FUNCTION\r\n        function editElement(e){\r\n  \r\n            const input = categoryItem.querySelector('.category-box__name')\r\n            input.removeAttribute('readonly');\r\n    \r\n            //Cursor at the end of text\r\n            input.addEventListener('focus', e => {\r\n            const { value } = e.target;\r\n            e.target.setSelectionRange(value.length, value.length);\r\n            });\r\n    \r\n            input.focus();\r\n            input.addEventListener('blur', (e) => {\r\n            input.setAttribute('readonly', true);\r\n            category.categoryName = e.target.value;\r\n            saveToLocalStorage();\r\n            displayCategory();\r\n            });   \r\n        };\r\n\r\n        //Unfold/Fold category box\r\n        function toggleAccordion(event) {\r\n\r\n            //categoryItem.style.height = `${itemsListPage.getBoundingClientRect().height}px`;\r\n        \r\n            categoryItem.classList.toggle(\"active\");\r\n            taskElementsContainer.style.display = categoryItem.classList.contains('active') ? 'flex' : 'none';\r\n            openButton.innerText = categoryItem.classList.contains('active') ? 'CLOSE' : 'OPEN';\r\n            progressBar.style.display = categoryItem.classList.contains('active') ? 'block' : 'none';\r\n            categoryItem.classList.contains('active') ? showProgressBar() : undefined;\r\n        }\r\n\r\n\r\n        //SAVE FULLSCREEN OPTION ON REFRESH\r\n        if (category.id === selectedCategoryId) { \r\n            //openElment();\r\n        };\r\n\r\n        openButton.addEventListener('click', () => {\r\n            toggleAccordion()\r\n\r\n        });\r\n\r\n\r\n\r\n\r\n        //UPDATE DONE/UNDONE TAKS RATIO\r\n\r\n        function updateTasksRatio(thisCategoryId) {\r\n            const selectedCategory = categories.find(category => category.id === thisCategoryId);\r\n            const completeTaskCount = selectedCategory.tasks.filter(task => task.complete).length;\r\n            let taskRatioNumber = Math.floor((100 * completeTaskCount) / selectedCategory.tasks.length);\r\n            selectedCategory.taskRatio.pop();\r\n            selectedCategory.taskRatio.push(taskRatioNumber);\r\n            saveToLocalStorage();\r\n        };\r\n\r\n\r\n\r\n        //FUNCTIONS AND EVENT LISTENERS HANDEL INSIDE CATEGORY TASKS\r\n\r\n        const taskForms = document.querySelectorAll('.new-task-form');\r\n\r\n        //SUBMIT TASK \r\n        for(let i = 0; i < taskForms.length; i++){\r\n\r\n            taskForms[i].addEventListener('submit', e => {\r\n              e.preventDefault(); \r\n              const thisCategoryId = e.currentTarget.parentElement.parentElement.id;\r\n      \r\n              let task = {\r\n      \r\n                taskItemName: taskForms[i][0].value,\r\n                id: new Date().getTime().toString(),\r\n                remainingTime: [],\r\n                complete: false,\r\n      \r\n              };\r\n      \r\n              if(taskForms[i][0].value == null || taskForms[i][0].value === '') return;\r\n      \r\n              const selectedCategory = categories.find(category => category.id === thisCategoryId);\r\n              selectedCategory.tasks.push(task);\r\n              saveToLocalStorage();\r\n      \r\n              updateCategoryCounter(thisCategoryId);\r\n              updateTasksRatio(thisCategoryId);\r\n              saveToLocalStorage();\r\n      \r\n              e.target.reset();\r\n              displayTask()\r\n            });     \r\n        };\r\n\r\n\r\n        const displayTask = () => {\r\n\r\n            tasksWrapper.innerHTML = \"\";\r\n            showProgressBar();\r\n\r\n            category.tasks.forEach(task =>{\r\n\r\n                let taskElement = document.createElement('div');\r\n                taskElement.classList.add('task-item');\r\n              \r\n                const taskFirst = document.createElement('div');\r\n                taskFirst.classList.add('task-first');\r\n                taskElement.appendChild(taskFirst);\r\n        \r\n                const checkboxElement = document.createElement('input');\r\n                checkboxElement.classList.add('completed-checkbox');\r\n                checkboxElement.type = 'checkbox';\r\n                checkboxElement.id = task.id;\r\n                checkboxElement.checked = task.complete;\r\n                taskFirst.appendChild(checkboxElement);\r\n              \r\n                const taskName = document.createElement('p')\r\n                taskName.classList.add('todo-text');\r\n                taskName.innerHTML = `${task.taskItemName}`\r\n                taskFirst.appendChild(taskName);\r\n        \r\n                showTasksCount();\r\n              \r\n                const countDown = document.createElement('div');\r\n                countDown.classList.add('timer-container')\r\n                taskFirst.appendChild(countDown);\r\n\r\n        \r\n                tasksWrapper.appendChild(taskElement);\r\n                \r\n\r\n\r\n\r\n                //PROGRESS BAR\r\n                class ProgressBar {\r\n                    constructor (element, initialValue = 0) {\r\n                  \r\n                      this.valueElement = progressBarValue;\r\n                      this.fillElement = progressBarFill;\r\n                  \r\n                      this.setValue(initialValue)\r\n                    }\r\n                  \r\n                    setValue (newValue) {\r\n                      if (isNaN(newValue)) {\r\n                        return 0;\r\n                      }\r\n          \r\n                      if (newValue <= 0) {\r\n                        newValue = 0;\r\n                      }\r\n                  \r\n                      if(newValue > 100) {\r\n                        newValue = 100;\r\n                      }\r\n                  \r\n                      this.value = newValue;\r\n                      this.update();\r\n                    }\r\n                  \r\n                    update(){\r\n                      const percentage = this.value + '%';\r\n                  \r\n                      this.fillElement.style.width = percentage;\r\n                      this.valueElement.textContent = percentage;\r\n                  \r\n                    } \r\n                };  \r\n                  \r\n                new ProgressBar(progressBar, category.taskRatio);\r\n                \r\n\r\n                //COUNTDOWN TIMER  \r\n                class Timer {\r\n                    constructor(root) {\r\n\r\n                        root.innerHTML = Timer.getHTML();\r\n                            \r\n                        this.el = {\r\n                            minutes: root.querySelector('.timer__part--minutes'),\r\n                            seconds: root.querySelector('.timer__part--seconds'),\r\n                            control: root.querySelector('.timer__btn--control'),\r\n                            reset: root.querySelector('.timer__btn--reset'),\r\n                        };            \r\n                    \r\n                        this.interval = 0;\r\n                        this.remainingSeconds = task.remainingTime;\r\n                    \r\n                        this.start();\r\n                        this.stop();\r\n                \r\n                        this.updateInterfaceTime();\r\n                        this.updateInterfaceControls();\r\n                    \r\n                    \r\n                        this.el.control.addEventListener('click', (e) => {\r\n                            const target =  e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.id;\r\n            \r\n                            if (this.interval === null) {\r\n                            this.start(target);\r\n                            } else {\r\n                            this.stop();\r\n                            this.updateRemainingTime();\r\n                            }\r\n                    \r\n                        });\r\n\r\n                        this.currentCategoryId = null;\r\n                        this.currentTaskId = null; \r\n                        \r\n                        \r\n                        this.el.reset.addEventListener('click', (e) => {\r\n                            notificationTimeBox.style.display = 'flex';\r\n\r\n                            this.currentTaskId = e.currentTarget.parentElement.previousSibling.previousSibling.id;\r\n                            this.currentCategoryId = e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.id;\r\n                             \r\n\r\n                            this.updateIds(this.currentCategoryId, this.currentTaskId )\r\n            \r\n                        });\r\n\r\n            \r\n            \r\n                        //Close Notification/Put Time Value Box\r\n                        timeBoxCloseBtn.addEventListener('click', e => {\r\n            \r\n                            notificationTimeBox.style.display = 'none';\r\n                        });\r\n            \r\n            \r\n                        timeBoxForm.addEventListener('submit' , e => {\r\n\r\n                            e.preventDefault();\r\n                            // Input value and update the IDs\r\n                            const inputValue = timeBoxValue.value;\r\n                            this.updateIds(this.currentCategoryId, this.currentTaskId);\r\n\r\n                            // Find the selected task and update its remaining time\r\n                            const selectedTask = findSelectedTask(this.currentCategoryId, this.currentTaskId);\r\n                            if (selectedTask) {\r\n\r\n                                console.log({selectedTask})\r\n                                updateRemainingTime(selectedTask, inputValue);\r\n                                checkboxElement.checked = false;\r\n                                selectedTask.complete = false;\r\n                                saveToLocalStorage();\r\n\r\n                            } else {\r\n                                return;\r\n                            }\r\n                            \r\n\r\n                            // Find the selected task based on the current category and task IDs\r\n                            function findSelectedTask(categoryId, taskId) {\r\n                                const selectedCategory = categories.find(category => category.id === categoryId);\r\n                                if (selectedCategory) {\r\n                                return selectedCategory.tasks.find(task => task.id === taskId);\r\n                                } else {\r\n                                return null;\r\n                                }\r\n                            }\r\n\r\n                            // Hide the time box and reset the form\r\n                            hideTimeBox();\r\n                            e.target.reset();\r\n\r\n                            // Update the remaining time and task ratio\r\n                            if (inputValue < 60) {\r\n                                this.stop()\r\n                                this.remainingSeconds = selectedTask.remainingTime * 60;\r\n                                this.updateRemainingTime();\r\n                                this.updateInterfaceTime();\r\n                                updateTasksRatio(this.currentCategoryId);\r\n                            }\r\n\r\n                            // Update the task status and save to local storage\r\n                            updateTaskStatus();\r\n                            saveToLocalStorage();\r\n\r\n                            // Update the task count and progress bar\r\n                            showTasksCount();\r\n                            updateTasksRatio(this.currentCategoryId);\r\n                            new ProgressBar(progressBar, category.taskRatio);\r\n\r\n\r\n                            // Update the remaining time of the selected task\r\n                            function updateRemainingTime(selectedTask, inputValue) {\r\n                                selectedTask.remainingTime.pop();\r\n                                selectedTask.remainingTime.push(inputValue);\r\n                            }\r\n\r\n                            // Hide the time box\r\n                            function hideTimeBox() {\r\n                                notificationTimeBox.style.display = 'none';\r\n                            }\r\n\r\n                            const task = findSelectedTask(this.currentCategoryId, this.currentTaskId);\r\n                            // Update the status of the selected task\r\n                            function updateTaskStatus() {                               \r\n                                if (task) {\r\n                                const checkboxElement = task.element.querySelector('.task-checkbox');\r\n                                checkboxElement.checked = false;\r\n                                task.complete = false;\r\n                                }\r\n                            }\r\n                        });\r\n        \r\n                    };\r\n\r\n        \r\n                    //FUNCTIONS\r\n\r\n                    // Update ID values outside of the block\r\n                    updateIds(taskId, categoryId) {\r\n                        this.currentTaskId = taskId;\r\n                        this.currentCategoryId = categoryId;    \r\n                    };\r\n                    updateRemainingTime(){\r\n                        task.remainingTime.pop();\r\n                        task.remainingTime.push(this.remainingSeconds);\r\n                        localStorage.setItem('categories', JSON.stringify(categories));\r\n                    };\r\n        \r\n                \r\n                    updateInterfaceControls(){\r\n                        if(this.interval === null){\r\n                            this.el.control.innerHTML =`<p>play</p>`;\r\n                            this.el.control.classList.add('timer__btn--start');\r\n                            this.el.control.classList.remove('timer__btn--stop');\r\n                        } else {\r\n                            this.el.control.innerHTML =`<p>pause</p>`;\r\n                            this.el.control.classList.add('timer__btn--stop');\r\n                            this.el.control.classList.remove('timer__btn--start');\r\n                    \r\n                        }\r\n                    };\r\n                \r\n                    updateInterfaceTime() {\r\n                        const minutes = Math.floor(this.remainingSeconds / 60);\r\n                        const seconds = this.remainingSeconds % 60;\r\n                    \r\n                        this.el.minutes.textContent = minutes.toString().padStart(2, '0');\r\n                        this.el.seconds.textContent = seconds.toString().padStart(2, '0');\r\n\r\n                    };\r\n\r\n                    start(target){\r\n                        const thisCategoryId = target;\r\n\r\n                        if(this.remainingSeconds === 0 || (Array.isArray(this.remainingSeconds) && this.remainingSeconds.length === 0)) return;\r\n\r\n                     \r\n                        this.interval = setInterval(() =>{\r\n                            if (this.remainingSeconds > 0) {\r\n                                this.remainingSeconds--;\r\n                                this.updateInterfaceTime();\r\n                     \r\n                                if (this.remainingSeconds === 0) {\r\n                                    this.stop();\r\n                                    checkboxElement.checked = true;\r\n                                    task.complete = true;\r\n                                    showTasksCount();\r\n                                    this.updateRemainingTime();\r\n                                    updateTasksRatio(thisCategoryId);\r\n                                    saveToLocalStorage();\r\n                                    new ProgressBar(progressBar, category.taskRatio);\r\n                                }\r\n                            } else {\r\n                                this.stop();\r\n                            }\r\n                        }, 1000);\r\n                     \r\n                        this.updateInterfaceControls();\r\n                    }\r\n                    \r\n                    stop(){\r\n                        clearInterval(this.interval);\r\n                        this.interval = null;\r\n                        this.updateInterfaceControls();\r\n                \r\n                    };\r\n                \r\n                    static getHTML(){\r\n                        return `\r\n                        <span class=\"timer__part timer__part--minutes\">00</span>\r\n                        <span class=\"timer__part timer__part--semicolons\">:</span>\r\n                        <span class=\"timer__part timer__part--seconds\">00</span>\r\n                    \r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"timer__btn timer__btn--control timer__start\"\r\n                        >\r\n                        </button>\r\n                    \r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"timer__btn timer__btn--reset timer__setup\"\r\n                        >\r\n                            <p>setup</p>\r\n                        </button>`\r\n                    }\r\n                };\r\n                new Timer(countDown); \r\n\r\n                //SHOW UPDATE MESSAGE TASK COUNT\r\n                function showTasksCount(){\r\n\r\n                    const incompleteTaskCount = category.tasks.filter(task => !task.complete).length;\r\n                    const completeTaskCount = category.tasks.filter(task => task.complete).length;\r\n          \r\n                    if(incompleteTaskCount === 0){\r\n                      tasksCounter.innerText = 'You have done everything! Good Job!'\r\n                    } else {\r\n                      let taskRatio = Math.floor((100 * completeTaskCount) / category.tasks.length)\r\n                      const taskString = incompleteTaskCount === 1 ? \"task\" : \"tasks\"\r\n                      tasksCounter.innerText = `${incompleteTaskCount} ${taskString} remaining ${taskRatio}% done` \r\n                    }       \r\n                };\r\n\r\n                checkboxElement.addEventListener('click', e => {\r\n                    checkboxElement.checked;\r\n                    let thisCategoryId = checkboxElement.parentElement.parentElement.parentElement.parentElement.parentElement.id;\r\n                    const selectedCategory = categories.find(category => category.id === thisCategoryId);\r\n                    const selectedTask = selectedCategory.tasks.find(task => task.id === e.target.id);\r\n                    selectedTask.complete = e.target.checked\r\n                    saveToLocalStorage()\r\n                    showTasksCount()\r\n          \r\n                    updateTasksRatio(thisCategoryId);\r\n          \r\n                    new ProgressBar(progressBar, selectedCategory.taskRatio);  \r\n          \r\n                });\r\n\r\n            });\r\n        };\r\n        displayTask();\r\n\r\n    });\r\n};\r\n\r\n\r\n//LOCAL STORAGE - SAVE TO LOCAL STORAGE\r\nconst saveToLocalStorage = () => {\r\n    localStorage.setItem('categories', JSON.stringify(categories));\r\n    localStorage.setItem('category.selectedCategoryId', selectedCategoryId);\r\n};\r\n\r\n\r\n\r\n// ****** EVENT LISTENERS **********\r\nwindow.addEventListener('DOMContentLoaded', e => {\r\n\r\n    if(categories.length !== 0){\r\n        welcomePage.style.display = \"none\"\r\n        itemsListPage.style.transform = \"translateX(0)\";\r\n        itemsListPage.style.display = \"flex\";\r\n        displayCategory();\r\n    };  \r\n\r\n    getCurrentDate();\r\n    updateCategoryCounter();\r\n    \r\n});\r\n\r\nnameInput.value = username;\r\nnameInput.addEventListener('change', (e) => {\r\n    localStorage.setItem('username', e.target.value);\r\n});\r\n\r\n// SELECTED CATEGORY ID\r\n\r\nnextPageButton.addEventListener('click', leaveWelcomePage);\r\n\r\nform.addEventListener('submit', e =>{\r\n    e.preventDefault()\r\n  \r\n    if (categoryInput == null || categoryInput === '') return;\r\n  \r\n    const category = {\r\n  \r\n      categoryName: categoryInput.value.trim(),\r\n      id: new Date().getTime().toString(),\r\n      taskRatio: [],\r\n      tasks: [],\r\n    };\r\n\r\n    categories.push(category);\r\n    saveToLocalStorage();\r\n    e.target.reset();\r\n    \r\n    displayCategory();\r\n    updateCategoryCounter();\r\n\r\n});\r\n"]}